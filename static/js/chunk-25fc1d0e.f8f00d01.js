(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25fc1d0e"],{"0c6d":function(e,t,s){"use strict";s("d3b7");var a=s("bc3a"),r=s.n(a),o=s("5c96"),n=s("4360"),i=s("2f4d"),l=void 0,d=r.a.create({baseURL:"http://leju.bufan.cloud",timeout:5e3});d.interceptors.request.use((function(e){return Object(i["a"])()&&(e.headers["token"]=Object(i["a"])()),e}),(function(e){return console.log(e),Promise.reject(e)})),d.interceptors.response.use((function(e){var t=e.data;return 2e4!==t.code?(Object(o["Message"])({message:t.message||"Error",type:"error",duration:5e3}),20002===t.code&&(Object(i["c"])(),Object(i["d"])(),l.$router.push("/login")),50008!==t.code&&50012!==t.code&&50014!==t.code||o["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){n["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(t.message||"Error"))):t}),(function(e){return console.log("err"+e),Object(o["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)})),t["a"]=d},"543a":function(e,t,s){},8298:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"address-main"},[s("el-card",{staticClass:"margin-30",attrs:{shadow:"never"}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.showAddAddress}},[e._v("新增")])],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[s("el-table-column",{attrs:{type:"index",label:"#",width:"50"}}),s("el-table-column",{attrs:{prop:"addressName",label:"地址名称",width:"120"}}),s("el-table-column",{attrs:{label:"默认发货地址",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" 默认发货地址:"),s("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(s){return e.switchStatus("sendStatus",t.row)}},model:{value:t.row.sendStatus,callback:function(s){e.$set(t.row,"sendStatus",s)},expression:"scope.row.sendStatus"}})]}}])}),s("el-table-column",{attrs:{prop:"name",label:"收获人姓名",width:"120"}}),s("el-table-column",{attrs:{prop:"phone",label:"收货人电话",width:"120"}}),s("el-table-column",{attrs:{prop:"region",label:"收货人地址",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(" "+e._s(" "+t.row.province+" "+t.row.city))]),e._v(" "+e._s(t.row.detailAddress)+" ")]}}])}),s("el-table-column",{attrs:{label:"默认收货地址",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" 默认收货地址:"),s("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(s){return e.switchStatus("receiveStatus",t.row)}},model:{value:t.row.receiveStatus,callback:function(s){e.$set(t.row,"receiveStatus",s)},expression:"scope.row.receiveStatus"}})]}}])}),s("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"180"}}),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{staticStyle:{color:"red"},attrs:{type:"text",size:"small"},on:{click:e.showAddAddress}},[e._v("编辑")]),s("el-button",{attrs:{type:"text",size:"small"}},[e._v("删除")])]}}])})],1)],1),s("AddressDialog",{ref:"dialogAdress",on:{refreshList:e.getAddressList}})],1)},r=[],o=s("0c6d");function n(e){return Object(o["a"])({url:"/lejuAdmin/companyAddress/save",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/lejuAdmin/companyAddress/addressList",method:"get",data:e})}var l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-dialog",{attrs:{title:"新增地址",visible:e.isShowDialog,width:"40%"},on:{"update:visible":function(t){e.isShowDialog=t},close:e.handleCloseDialog}},[s("el-form",{ref:"form",attrs:{model:e.address,rules:e.rules,"label-width":"110px",size:"mini"}},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:12,offset:0}},[s("el-form-item",{attrs:{label:"发货地址",prop:"addressName"}},[s("el-input",{model:{value:e.address.addressName,callback:function(t){e.$set(e.address,"addressName",t)},expression:"address.addressName"}})],1)],1),s("el-col",{attrs:{span:12,offset:0}},[s("el-form-item",{attrs:{label:"发货人姓名"}},[s("el-input",{model:{value:e.address.name,callback:function(t){e.$set(e.address,"name",t)},expression:"address.name"}})],1)],1)],1),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:12,offset:0}},[s("el-form-item",{attrs:{label:"发货人手机号"}},[s("el-input",{model:{value:e.address.phone,callback:function(t){e.$set(e.address,"phone",t)},expression:"address.phone"}})],1)],1),s("el-col",{attrs:{span:12,offset:0}},[s("el-form-item",{attrs:{label:"邮政编码"}},[s("el-input",{model:{value:e.address.postCode,callback:function(t){e.$set(e.address,"postCode",t)},expression:"address.postCode"}})],1)],1)],1),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:12,offset:0}},[s("el-form-item",{attrs:{label:"收货地址"}},[s("el-cascader",{attrs:{size:"large",options:e.options},on:{change:e.handleChange},model:{value:e.initCity,callback:function(t){e.initCity=t},expression:"initCity"}})],1)],1),s("el-col",{attrs:{span:12,offset:0}},[s("el-form-item",{attrs:{label:"详细地址"}},[s("el-input",{model:{value:e.address.detailAddress,callback:function(t){e.$set(e.address,"detailAddress",t)},expression:"address.detailAddress"}})],1)],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.handleCancleDialog}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.addAddress}},[e._v("确 定")])],1)],1)],1)},d=[],c=(s("a15b"),s("ed08")),u=s("ef6c"),f={name:"AddressDialog",data:function(){return{options:u["regionDataPlus"],initCity:["130000","130300","130302"],isShowDialog:!1,address:{addressName:"郑州市中原区"},rules:{addressName:[{required:!0,message:"请填写发货地址",trigger:"blur"}]}}},components:{},computed:{},created:function(){this.getAddressList()},methods:{openDialog:function(){this.isShowDialog=!0},handleChange:function(e){this.address.province=u["CodeToText"][e[0]],this.address.city=u["CodeToText"][e[1]],this.address.region=u["CodeToText"][e[2]],this.address.cityCode=e.join(",")},handleCancleDialog:function(){this.isShowDialog=!1},handleCloseDialog:function(){Object(c["b"])(this,"address"),Object(c["b"])(this,"initCity"),this.$refs.form.resetFields()},addAddress:function(){var e=this;n(this.address).then((function(t){var s=t.success,a=t.message;s?(e.isShowDialog=!1,e.getAddressList(),e.$emit("refreshList")):e.$message.error(a)}))},getAddressList:function(){var e=this;i().then((function(t){console.log("地址",t),e.addressList=t.data.items}))}}},m=f,p=s("2877"),h=Object(p["a"])(m,l,d,!1,null,"3ed89fca",null),g=h.exports,b={name:"Address",components:{AddressDialog:g},data:function(){return{isShowDialog:!1,tableData:[]}},created:function(){this.getAddressList()},methods:{showAddAddress:function(){this.$refs.dialogAdress.openDialog()},getAddressList:function(){var e=this;i().then((function(t){console.log("地址",t),e.tableData=t.data.items}))},switchStatus:function(e,t){var s=this,a="receiveStatus"===e?"setReceiveOne":"setSendOne",r=0===t[e]?1:0,o={};o[e]=t[e],o.id=t.id,(void 0)[a](o).then((function(a){a.success?(s.$message.success("修改状态成功"),s.getAddressList()):(t[e]=r,s.$message.error("修改状态失败"))}))}}},v=b,w=(s("dcf0"),Object(p["a"])(v,a,r,!1,null,"1161d7c6",null));t["default"]=w.exports},dcf0:function(e,t,s){"use strict";s("543a")},ed08:function(e,t,s){"use strict";s.d(t,"c",(function(){return r})),s.d(t,"a",(function(){return o})),s.d(t,"b",(function(){return n}));var a=s("53ca");s("ac1f"),s("00b4"),s("5319"),s("4d63"),s("2c3e"),s("25f0"),s("d3b7"),s("4d90"),s("159b");function r(e,t){if(0===arguments.length||!e)return null;var s,r=t||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(a["a"])(e)?s=e:("string"===typeof e&&(e=/^[0-9]+$/.test(e)?parseInt(e):e.replace(new RegExp(/-/gm),"/")),"number"===typeof e&&10===e.toString().length&&(e*=1e3),s=new Date(e));var o={y:s.getFullYear(),m:s.getMonth()+1,d:s.getDate(),h:s.getHours(),i:s.getMinutes(),s:s.getSeconds(),a:s.getDay()},n=r.replace(/{([ymdhisa])+}/g,(function(e,t){var s=o[t];return"a"===t?["日","一","二","三","四","五","六"][s]:s.toString().padStart(2,"0")}));return n}function o(e){var t={};for(var s in e)""!==e[s]&&(t[s]=e[s]);return t}function n(e,t){e[t]=e.$options.data()[t]}}}]);